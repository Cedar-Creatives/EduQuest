import{u as C,b as q,r as o,j as e,B as n,i as p,p as D,C as t,g as l,m,d as i,e as d,o as M,n as B}from"./index-BW2eZKgk.js";import{P as x}from"./progress-Ctn_lGjD.js";import{T as E,a as L,b as g,c as h}from"./tabs-YH3I4y41.js";import{A as W}from"./alert-circle-QDtP9ton.js";import{B as N}from"./bar-chart-3-ZvScYa5k.js";import{D as Q}from"./download-BXycTihu.js";import{S as U}from"./share-2-3v_V1CT-.js";import{T as f}from"./target-CHxuEaUw.js";import{Z as $}from"./zap-DIYHhRsb.js";import{C as v}from"./clock-DBQmfBqq.js";import{T as y}from"./trending-up-DOr2oNsh.js";import{T as w}from"./trophy-HxUj-h9W.js";import{A as k,T as O}from"./trending-down-Cl1Dbjh-.js";import{A as R}from"./arrow-right-BbQa-8iw.js";import{U as V}from"./users-B2cgLNe3.js";import"./index-Bhh2lgCI.js";function ne(){var b;const{user:u}=C(),c=q(),[a,S]=o.useState(null),[z,T]=o.useState(!0),[Z,H]=o.useState("month"),j=((b=u==null?void 0:u.subscription)==null?void 0:b.status)==="premium";if(o.useEffect(()=>{if(!j){c("/app/upgrade");return}(async()=>{try{S({totalQuizzes:47,averageScore:78.5,studyStreak:12,totalStudyTime:2840,subjects:[{name:"Mathematics",quizzesTaken:15,averageScore:82,timeSpent:450,strength:"strong"},{name:"Physics",quizzesTaken:12,averageScore:75,timeSpent:380,strength:"moderate"},{name:"English",quizzesTaken:10,averageScore:85,timeSpent:320,strength:"strong"},{name:"Chemistry",quizzesTaken:8,averageScore:68,timeSpent:280,strength:"weak"},{name:"Biology",quizzesTaken:2,averageScore:72,timeSpent:90,strength:"moderate"}],weeklyProgress:[{week:"Week 1",quizzes:8,averageScore:75,studyTime:320},{week:"Week 2",quizzes:12,averageScore:78,studyTime:480},{week:"Week 3",quizzes:15,averageScore:82,studyTime:600},{week:"Week 4",quizzes:12,averageScore:79,studyTime:480}],achievements:[{id:"1",title:"Quiz Master",description:"Complete 50 quizzes",icon:"🎯",unlocked:!1,progress:47,maxProgress:50},{id:"2",title:"Streak Champion",description:"Maintain 15-day study streak",icon:"🔥",unlocked:!1,progress:12,maxProgress:15},{id:"3",title:"Subject Expert",description:"Achieve 90%+ in any subject",icon:"🏆",unlocked:!0,progress:100,maxProgress:100},{id:"4",title:"Time Warrior",description:"Study for 50 hours total",icon:"⏰",unlocked:!1,progress:47,maxProgress:50},{id:"5",title:"Consistency King",description:"Study 7 days in a row",icon:"👑",unlocked:!0,progress:100,maxProgress:100}],learningPatterns:{bestStudyTime:"Evening (6-9 PM)",mostProductiveDay:"Wednesday",averageSessionLength:45,preferredSubjects:["Mathematics","Physics"]}})}catch(r){console.error("Error fetching analytics:",r)}finally{T(!1)}})()},[j,c]),!j)return null;if(z)return e.jsx("div",{className:"min-h-[400px] flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto"}),e.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-transparent border-t-purple-600 rounded-full animate-spin mx-auto",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"Loading Analytics"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Preparing your detailed insights..."})]})]})});if(!a)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center",children:e.jsx(W,{className:"w-12 h-12 text-red-500"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Analytics Unavailable"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Unable to load your analytics data."}),e.jsx(n,{onClick:()=>window.location.reload(),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:"Try Again"})]});const P=s=>{switch(s){case"strong":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"moderate":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20";case"weak":return"text-red-600 bg-red-100 dark:bg-red-900/20";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20"}},A=s=>{switch(s){case"strong":return e.jsx(y,{className:"w-4 h-4"});case"moderate":return e.jsx(f,{className:"w-4 h-4"});case"weak":return e.jsx(O,{className:"w-4 h-4"});default:return e.jsx(k,{className:"w-4 h-4"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl p-6 shadow-xl",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(N,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Advanced Analytics"}),e.jsx("p",{className:"text-blue-100",children:"Detailed insights into your learning journey"})]})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(p,{className:"bg-white/20 text-white border-white/30",children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),"Premium"]}),e.jsxs(n,{variant:"outline",size:"sm",className:"bg-white/20 text-white border-white/30 hover:bg-white/30",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Export"]}),e.jsxs(n,{variant:"outline",size:"sm",className:"bg-white/20 text-white border-white/30 hover:bg-white/30",children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),"Share"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(t,{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-0 shadow-lg",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Total Quizzes"}),e.jsx("p",{className:"text-3xl font-bold text-blue-700 dark:text-blue-300",children:a.totalQuizzes})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(m,{className:"w-6 h-6 text-white"})})]})})}),e.jsx(t,{className:"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-0 shadow-lg",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Average Score"}),e.jsxs("p",{className:"text-3xl font-bold text-green-700 dark:text-green-300",children:[a.averageScore,"%"]})]}),e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx(f,{className:"w-6 h-6 text-white"})})]})})}),e.jsx(t,{className:"bg-gradient-to-r from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border-0 shadow-lg",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:"Study Streak"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-700 dark:text-purple-300",children:[a.studyStreak," days"]})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center",children:e.jsx($,{className:"w-6 h-6 text-white"})})]})})}),e.jsx(t,{className:"bg-gradient-to-r from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 border-0 shadow-lg",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Study Time"}),e.jsxs("p",{className:"text-3xl font-bold text-orange-700 dark:text-orange-300",children:[Math.round(a.totalStudyTime/60),"h"]})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(v,{className:"w-6 h-6 text-white"})})]})})})]}),e.jsxs(E,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(L,{className:"grid w-full grid-cols-4 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:[e.jsxs(g,{value:"overview",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-purple-600 data-[state=active]:text-white",children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),"Overview"]}),e.jsxs(g,{value:"subjects",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-purple-600 data-[state=active]:text-white",children:[e.jsx(m,{className:"w-4 h-4 mr-2"}),"Subjects"]}),e.jsxs(g,{value:"progress",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-purple-600 data-[state=active]:text-white",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Progress"]}),e.jsxs(g,{value:"achievements",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-purple-600 data-[state=active]:text-white",children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Achievements"]})]}),e.jsx(h,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(t,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-0 shadow-lg",children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-5 h-5 text-purple-500"}),"Learning Patterns"]})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Best Study Time"}),e.jsx("p",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:a.learningPatterns.bestStudyTime})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Most Productive Day"}),e.jsx("p",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:a.learningPatterns.mostProductiveDay})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Average Session Length"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:[a.learningPatterns.averageSessionLength," minutes"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Preferred Subjects"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.learningPatterns.preferredSubjects.map((s,r)=>e.jsx(p,{variant:"secondary",className:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300",children:s},r))})]})]})]}),e.jsxs(t,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-0 shadow-lg",children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-green-500"}),"Weekly Progress"]})}),e.jsx(l,{className:"space-y-4",children:a.weeklyProgress.map((s,r)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:s.week}),e.jsxs("span",{className:"text-gray-500",children:[s.averageScore,"%"]})]}),e.jsx(x,{value:s.averageScore,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:[s.quizzes," quizzes"]}),e.jsxs("span",{children:[Math.round(s.studyTime/60),"h study time"]})]})]},r))})]})]})}),e.jsx(h,{value:"subjects",className:"space-y-6",children:e.jsxs(t,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-0 shadow-lg",children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(m,{className:"w-5 h-5 text-blue-500"}),"Subject Performance"]})}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:a.subjects.map((s,r)=>e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-200",children:s.name}),e.jsxs(p,{className:`${P(s.strength)}`,children:[A(s.strength),e.jsx("span",{className:"ml-1 capitalize",children:s.strength})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:[s.averageScore,"%"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.quizzesTaken," quizzes"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Performance"}),e.jsxs("span",{className:"text-gray-800 dark:text-gray-200",children:[s.averageScore,"%"]})]}),e.jsx(x,{value:s.averageScore,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Time spent: ",Math.round(s.timeSpent/60),"h"]}),e.jsxs("span",{children:["Quizzes: ",s.quizzesTaken]})]})]})]},r))})})]})}),e.jsx(h,{value:"progress",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(t,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-0 shadow-lg",children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(y,{className:"w-5 h-5 text-green-500"}),"Score Trend"]})}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:a.weeklyProgress.map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:s.week}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.quizzes," quizzes taken"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:[s.averageScore,"%"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[Math.round(s.studyTime/60),"h"]})]})]},r))})})]}),e.jsxs(t,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-0 shadow-lg",children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-orange-500"}),"Study Time Distribution"]})}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:a.subjects.map((s,r)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:s.name}),e.jsxs("span",{className:"text-gray-500",children:[Math.round(s.timeSpent/60),"h"]})]}),e.jsx(x,{value:s.timeSpent/a.totalStudyTime*100,className:"h-2"})]},r))})})]})]})}),e.jsx(h,{value:"achievements",className:"space-y-6",children:e.jsxs(t,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-0 shadow-lg",children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-5 h-5 text-yellow-500"}),"Achievements"]})}),e.jsx(l,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.achievements.map(s=>e.jsx("div",{className:`p-4 rounded-lg border-2 transition-all duration-200 ${s.unlocked?"bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border-yellow-200 dark:border-yellow-700":"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center text-2xl ${s.unlocked?"bg-gradient-to-r from-yellow-400 to-orange-500":"bg-gray-300 dark:bg-gray-600"}`,children:s.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`font-semibold ${s.unlocked?"text-gray-800 dark:text-gray-200":"text-gray-500 dark:text-gray-400"}`,children:s.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:s.description}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Progress"}),e.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[s.progress,"/",s.maxProgress]})]}),e.jsx(x,{value:s.progress/s.maxProgress*100,className:"h-2"})]})]}),s.unlocked&&e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(B,{className:"w-4 h-4 text-white"})})]})},s.id))})})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(n,{onClick:()=>c("/app/quiz"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg",children:[e.jsx(m,{className:"w-4 h-4 mr-2"}),"Take Another Quiz",e.jsx(R,{className:"w-4 h-4 ml-2"})]}),e.jsxs(n,{variant:"outline",onClick:()=>c("/app/profile"),className:"border-blue-300 text-blue-600 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-400 dark:hover:bg-blue-900/20",children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"View Profile"]})]})]})}export{ne as AdvancedAnalytics};
