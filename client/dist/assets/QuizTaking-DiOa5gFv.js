import{c as O,r as l,u as U,j as e,d as M,B as u,g as L,I as ge,i as pe,b as fe,a as ye}from"./index-BR-T537K.js";import{C as R,a as X,b as _,d as $}from"./card-C9tChmD6.js";import{P as we,C as J}from"./progress-DEWJ-41M.js";import{A as be,a as je}from"./avatar-DcT5zcjz.js";import{H as ve}from"./heart-0zB7NPlx.js";import{Z as Ne}from"./zap-a5CLCkLp.js";import{T as ee}from"./target-7ZRLmyr2.js";import{S as ke}from"./send-B_OFc4jt.js";import{a as Se}from"./quiz-t83wxpU9.js";import{L as Y}from"./label-CeySMw9Q.js";import{A as V}from"./alert-circle-DlqzrvYg.js";import{W as Ce,T as Te}from"./wifi-off-DJN0vn7u.js";import{M as Me}from"./message-circle-QLJh2dNk.js";import{S as T}from"./star-DCCDTEu9.js";import"./api-BwjwlSn4.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=O("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=O("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=O("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),Ee={Kingsley:{name:"Kingsley",personality:"Encouraging & Supportive",avatar:"K",color:"blue",gradientFrom:"from-blue-500",gradientTo:"to-blue-600",traits:["Patient","Encouraging","Detailed","Supportive"],greetings:["Hello there! I'm Kingsley, and I'm here to support you every step of the way! ðŸ˜Š","Great to see you! Ready to learn something amazing today?","Hey! Don't worry if things seem tough - we'll figure it out together! ðŸ’ª","Welcome back! I believe in you and I know you can achieve great things!"],motivationalMessages:["Remember, every expert was once a beginner. You're doing great! ðŸŒŸ","Progress isn't always fast, but it's always worth it. Keep going!","I've seen students overcome much bigger challenges. You've got this! ðŸ’ª","Every question you ask makes you stronger. Never hesitate to ask!"],helpResponses:["That's a wonderful question! Let me break this down step by step for you...","I understand this can be confusing. Let's approach it from a different angle...","Great thinking! Now let me help you take it to the next level...","No worries at all! This is actually a common area where students need support..."],subjectExpertise:{Mathematics:["Math is like building blocks - start with the basics and build up!","Don't rush through problems. Take your time to understand each step.","Practice makes perfect in math. The more you solve, the better you get!"],Physics:["Physics connects to real life! Think about how things work around you.","Draw diagrams and visualize the problem - it helps a lot!","Remember the formulas, but focus on understanding the concepts first."],English:["Reading regularly improves your vocabulary and understanding.","Practice writing every day, even if it's just a few sentences.","Grammar rules become easier with practice and examples."]},examTips:{WAEC:["WAEC tests your understanding, not just memorization. Focus on concepts!","Practice past questions to get familiar with the exam pattern.","Time management is crucial. Don't spend too long on one question."],NECO:["NECO questions often test practical application. Think real-world scenarios.","Read questions carefully - they often contain important clues.","Show your working clearly - partial marks can make a big difference!"],JAMB:["JAMB is about speed and accuracy. Practice timed mock exams.","Focus on your strongest subjects to maximize your score.","Don't leave any question unanswered - there's no penalty for wrong answers."]}},Rita:{name:"Rita",personality:"Direct & Challenging",avatar:"R",color:"purple",gradientFrom:"from-purple-500",gradientTo:"to-purple-600",traits:["Direct","Challenging","Efficient","Results-focused"],greetings:["I'm Rita. Ready to push your limits and achieve excellence? Let's get started! ðŸ”¥","Time to level up! I'm here to challenge you and bring out your best.","No excuses, just results. Are you ready to work hard and succeed?","Excellence isn't an accident - it's a choice. Let's make that choice today!"],motivationalMessages:["Stop making excuses and start making progress! You're capable of more! ðŸ”¥","Comfort zones are where dreams go to die. Let's break through yours!","Champions aren't made in comfort - they're forged through challenge!","You didn't come this far just to come this far. Push harder!"],helpResponses:["Here's the direct path to mastery. Pay attention and practice hard...","I'll give you the solution, but I expect you to understand it completely...","This is exactly what separates average students from exceptional ones...","Stop overthinking and start applying. Here's what you need to know..."],subjectExpertise:{Mathematics:["Math requires precision. Every step must be correct - no shortcuts!","Solve problems systematically. Write down every step clearly.","Challenge yourself with harder problems. That's how you improve!"],Physics:["Physics is about understanding principles, not memorizing facts.","Apply concepts to new situations. That's real learning!","Don't just solve problems - understand why the solution works."],English:["Master the fundamentals. Grammar and vocabulary are your foundation.","Read challenging texts to expand your knowledge.","Write with purpose. Every word should serve a purpose."]},examTips:{WAEC:["WAEC rewards thorough understanding. Don't just memorize - comprehend!","Practice under exam conditions. Build your stamina and speed.","Review your weak areas systematically. Turn weaknesses into strengths."],NECO:["NECO tests application skills. Practice with real-world examples.","Be precise in your answers. Quality over quantity.","Time yourself during practice. Speed comes with practice."],JAMB:["JAMB is a marathon, not a sprint. Build your endurance.","Focus on high-yield topics. Maximize your score potential.","Practice elimination strategies for multiple choice questions."]}}};function Ae({selectedTeacher:x="Kingsley",subject:m,context:p}){const[y,f]=l.useState([]),[b,o]=l.useState(""),[z,n]=l.useState(!1),{user:A}=U(),t=Ee[x];l.useEffect(()=>{const a=t.greetings[Math.floor(Math.random()*t.greetings.length)];f([{id:"1",text:a,sender:"teacher",timestamp:new Date,teacherName:t.name}])},[x,t]);const q=async()=>{if(!b.trim())return;const a={id:Date.now().toString(),text:b,sender:"user",timestamp:new Date};f(c=>[...c,a]),o(""),n(!0),setTimeout(()=>{const c=w(b,t,m,p),d={id:(Date.now()+1).toString(),text:c,sender:"teacher",timestamp:new Date,teacherName:t.name};f(j=>[...j,d]),n(!1)},1500)},w=(a,c,d,j)=>{const r=a.toLowerCase();if(d&&c.subjectExpertise[d]){if(r.includes("help")||r.includes("don't understand")||r.includes("confused")){const h=c.subjectExpertise[d];return h[Math.floor(Math.random()*h.length)]}if(r.includes("tip")||r.includes("advice")||r.includes("how to")){const h=c.subjectExpertise[d];return h[Math.floor(Math.random()*h.length)]}}if(r.includes("waec")||r.includes("neco")||r.includes("jamb")){let h="WAEC";if(r.includes("neco")&&(h="NECO"),r.includes("jamb")&&(h="JAMB"),c.examTips[h]){const v=c.examTips[h];return v[Math.floor(Math.random()*v.length)]}}return r.includes("help")||r.includes("don't understand")||r.includes("confused")?c.helpResponses[Math.floor(Math.random()*c.helpResponses.length)]:r.includes("difficult")||r.includes("hard")||r.includes("struggling")?c.name==="Kingsley"?"I understand this feels challenging, but remember - every difficulty is an opportunity to grow stronger! Let's break this down into smaller, manageable pieces. What specific part is giving you trouble?":"Difficult? Good! That means you're pushing your boundaries. Champions aren't built in comfort zones. Tell me exactly where you're stuck and I'll show you how to power through it.":j&&j.includes("Quiz question:")?c.name==="Kingsley"?"I can see you're working on a quiz question! Let me help you think through this step by step. What specific part of the question is unclear to you?":"Quiz time! Let's tackle this systematically. Break down what you know and what you need to find out. What's your approach so far?":r.includes("thanks")||r.includes("thank you")?c.name==="Kingsley"?"You're so welcome! It's my pleasure to help you succeed. Remember, asking questions shows intelligence, not weakness! ðŸ˜Š":"Save the thanks for when you ace that exam! Now let's get back to work and make it happen.":c.name==="Kingsley"?d?`Great question about ${d}! I can see you're really thinking about this. Let me help you explore this further. What would you like to know more about?`:"That's a great point! I can see you're really thinking about this. Let me help you explore this further. What would you like to know more about?":d?`Straight to the point about ${d} - I like that! Here's what you need to focus on to master this topic. Are you ready to put in the work?`:"Straight to the point - I like that! Here's what you need to focus on to master this topic. Are you ready to put in the work?"},I=()=>{const a=t.motivationalMessages[Math.floor(Math.random()*t.motivationalMessages.length)],c={id:Date.now().toString(),text:a,sender:"teacher",timestamp:new Date,teacherName:t.name};f(d=>[...d,c])};return e.jsxs(R,{className:"h-full flex flex-col",children:[e.jsxs(X,{className:`bg-gradient-to-r ${t.gradientFrom} ${t.gradientTo} text-white rounded-t-lg`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(be,{className:"h-12 w-12 border-2 border-white",children:e.jsx(je,{className:`bg-white text-${t.color}-600 font-bold`,children:t.avatar})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(_,{className:"text-lg",children:t.name}),e.jsx("p",{className:"text-sm opacity-90",children:t.personality})]}),e.jsx("div",{className:"flex space-x-1",children:t.name==="Kingsley"?e.jsx(ve,{className:"w-5 h-5"}):e.jsx(Ne,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:t.traits.map((a,c)=>e.jsx(M,{variant:"secondary",className:"bg-white/20 text-white text-xs",children:a},c))})]}),e.jsxs($,{className:"flex-1 flex flex-col p-0",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 max-h-96",children:[y.map(a=>e.jsx("div",{className:`flex ${a.sender==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${a.sender==="user"?"bg-blue-500 text-white":`bg-gray-100 text-gray-800 border border-${t.color}-200`}`,children:[a.sender==="teacher"&&e.jsx("div",{className:"text-xs font-semibold mb-1 text-gray-600",children:a.teacherName}),e.jsx("p",{className:"text-sm",children:a.text}),e.jsx("div",{className:"text-xs opacity-70 mt-1",children:a.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},a.id)),z&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:`bg-gray-100 border border-${t.color}-200 px-4 py-2 rounded-lg`,children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),e.jsxs("div",{className:"border-t border-gray-200 p-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[e.jsxs(u,{variant:"outline",size:"sm",onClick:I,className:"flex items-center space-x-1 text-xs",children:[e.jsx(ee,{className:"w-3 h-3"}),e.jsx("span",{children:"Motivate me"})]}),e.jsxs(u,{variant:"outline",size:"sm",onClick:()=>o("I need help with "+(m||"this topic")),className:"flex items-center space-x-1 text-xs",children:[e.jsx(L,{className:"w-3 h-3"}),e.jsx("span",{children:"Get help"})]}),m&&e.jsxs(u,{variant:"outline",size:"sm",onClick:()=>o(`Give me ${m} study tips`),className:"flex items-center space-x-1 text-xs",children:[e.jsx(Brain,{className:"w-3 h-3"}),e.jsxs("span",{children:[m," tips"]})]}),e.jsxs(u,{variant:"outline",size:"sm",onClick:()=>o("Give me exam tips for WAEC/NECO/JAMB"),className:"flex items-center space-x-1 text-xs",children:[e.jsx(Trophy,{className:"w-3 h-3"}),e.jsx("span",{children:"Exam tips"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(ge,{value:b,onChange:a=>o(a.target.value),placeholder:`Ask ${t.name} anything...`,onKeyPress:a=>a.key==="Enter"&&q(),className:"flex-1"}),e.jsx(u,{onClick:q,disabled:!b.trim()||z,size:"sm",className:`bg-gradient-to-r ${t.gradientFrom} ${t.gradientTo} hover:opacity-90`,children:e.jsx(ke,{className:"w-4 h-4"})})]})]})]})]})}function Ie(){const[x,m]=l.useState(!navigator.onLine);return l.useEffect(()=>{const p=()=>m(!1),y=()=>m(!0);return window.addEventListener("online",p),window.addEventListener("offline",y),()=>{window.removeEventListener("online",p),window.removeEventListener("offline",y)}},[]),x}function Ve(){var H;const{subject:x,difficulty:m}=pe(),p=fe(),{user:y}=U(),{toast:f}=ye(),b=Ie(),[o,z]=l.useState(null),[n,A]=l.useState(0),[t,q]=l.useState({}),[w,I]=l.useState(1800),[a,c]=l.useState(!0),[d,j]=l.useState(!1),[r,h]=l.useState(!1),[v,F]=l.useState("Kingsley"),[se,te]=l.useState(Date.now()),[B,D]=l.useState(Date.now()),[ae,re]=l.useState({}),[k,ie]=l.useState({}),[S,ne]=l.useState([]),[E,oe]=l.useState([]);l.useEffect(()=>{(async()=>{try{console.log(`Fetching quiz: ${x} - ${m}`);const i=await Se(x,m);z(i.quiz),te(Date.now()),D(Date.now())}catch(i){console.error("Error fetching quiz:",i),f({title:"Error",description:i.message,variant:"destructive"}),p("/app/quiz")}finally{c(!1)}})()},[x,m,p,f]),l.useEffect(()=>{if(!a&&w>0){const s=setInterval(()=>{I(i=>i<=1?(K(),0):i-1)},1e3);return()=>clearInterval(s)}},[a,w]);const le=s=>{q(i=>({...i,[n]:s}))},ce=()=>{var i;const s=Date.now()-B;re(g=>({...g,[n]:s})),n<(((i=o==null?void 0:o.questions)==null?void 0:i.length)||0)-1&&(A(g=>g+1),D(Date.now()))},de=()=>{n>0&&(A(s=>s-1),D(Date.now()))},ue=(s,i)=>{ie(g=>({...g,[s]:i})),i<=2&&!S.includes(s)&&ne(g=>[...g,s])},me=s=>{oe(i=>i.includes(s)?i.filter(g=>g!==s):[...i,s])},K=async()=>{if(!o||Object.keys(t).length<o.questions.length){f({title:"Incomplete Quiz",description:"Please answer all questions before submitting.",variant:"destructive"});return}j(!0);try{const s=Date.now()-se,i=s/o.questions.length,g=o.questions.map((Q,C)=>({questionId:Q.id,selectedAnswer:t[C],timeSpent:ae[C]||0,confidence:k[C]||3,wasStruggling:S.includes(C),wasFlagged:E.includes(C)})),G=await fetch("/api/quiz/submit",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await(y==null?void 0:y.getIdToken())}`},body:JSON.stringify({subject:x,difficulty:m,answers:t,detailedAnswers:g,totalTimeSpent:s,avgTimePerQuestion:i,strugglingQuestions:S,flaggedQuestions:E,aiTeacherUsed:r,selectedTeacher:v})});if(G.ok){const Q=await G.json();p(`/app/results/${Q.quizId}`)}else throw new Error("Failed to submit quiz")}catch(s){console.error("Error submitting quiz:",s),f({title:"Submission Failed",description:"There was an error submitting your quiz. Please try again.",variant:"destructive"})}finally{j(!1)}};if(a)return e.jsx("div",{className:"min-h-[400px] flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto"}),e.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-transparent border-t-purple-600 rounded-full animate-spin mx-auto",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"Preparing Your Quiz"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Generating questions tailored for you..."})]})]})});if(!o||!o.questions||o.questions.length===0)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center",children:e.jsx(V,{className:"w-12 h-12 text-red-500"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Quiz Not Found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"The quiz you're looking for doesn't exist or is empty."}),e.jsxs(u,{onClick:()=>p("/app/quiz"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Back to Quiz Selection"]})]});const N=o.questions[n],W=(n+1)/o.questions.length*100,P=Object.keys(t).length,he=Math.floor(w/60),xe=w%60;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl p-6 shadow-xl",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(L,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold",children:[x," Quiz"]}),e.jsxs("p",{className:"text-blue-100 flex items-center gap-2",children:[e.jsx(M,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:m}),b&&e.jsxs(M,{variant:"secondary",className:"bg-yellow-500/20 text-yellow-200 border-yellow-400/30",children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),"Offline"]})]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 rounded-lg px-4 py-2",children:[e.jsx(Te,{className:"w-5 h-5"}),e.jsxs("span",{className:"font-mono text-lg font-bold",children:[he,":",xe.toString().padStart(2,"0")]})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 rounded-lg px-4 py-2",children:[e.jsx(ee,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-medium",children:[n+1," / ",o.questions.length]})]}),e.jsxs(u,{variant:"outline",size:"sm",onClick:()=>h(!r),className:"bg-white/20 text-white border-white/30 hover:bg-white/30",children:[e.jsx(Me,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"AI Help"})]})]})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm text-blue-100",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[Math.round(W),"%"]})]}),e.jsx(we,{value:W,className:"h-3 bg-white/20"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center text-sm",children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-2",children:[e.jsx("div",{className:"text-lg font-bold",children:P}),e.jsx("div",{className:"text-blue-100 text-xs",children:"Answered"})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2",children:[e.jsx("div",{className:"text-lg font-bold",children:Math.round((1800-w)/60)}),e.jsx("div",{className:"text-blue-100 text-xs",children:"Minutes"})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-2",children:[e.jsx("div",{className:"text-lg font-bold",children:E.length}),e.jsx("div",{className:"text-blue-100 text-xs",children:"Flagged"})]})]})]})]}),e.jsxs("div",{className:`grid gap-6 ${r?"lg:grid-cols-3":"grid-cols-1"}`,children:[e.jsxs("div",{className:`space-y-6 ${r?"lg:col-span-2":"col-span-1"}`,children:[N&&e.jsxs(R,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-0 shadow-xl",children:[e.jsx(X,{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold",children:n+1}),e.jsxs("div",{children:[e.jsxs(_,{className:"text-xl",children:["Question ",n+1]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs(M,{variant:"outline",className:"text-xs",children:[e.jsx(L,{className:"w-3 h-3 mr-1"}),N.type||"Multiple Choice"]}),S.includes(n)&&e.jsxs(M,{variant:"destructive",className:"text-xs",children:[e.jsx(V,{className:"w-3 h-3 mr-1"}),"Struggling"]})]})]})]}),e.jsx(u,{variant:"outline",size:"sm",onClick:()=>me(n),className:`${E.includes(n)?"bg-yellow-500 text-white border-yellow-500 hover:bg-yellow-600":"hover:bg-yellow-50 dark:hover:bg-yellow-900/20"}`,children:e.jsx(qe,{className:"w-4 h-4"})})]})}),e.jsxs($,{className:"p-6 space-y-6",children:[e.jsx("div",{className:"prose max-w-none",children:e.jsx("p",{className:"text-lg text-gray-800 dark:text-gray-200 leading-relaxed font-medium",children:N.question})}),e.jsx("div",{className:"grid gap-3",children:(H=N.options)==null?void 0:H.map((s,i)=>e.jsx(u,{variant:t[n]===s?"default":"outline",onClick:()=>le(s),className:`justify-start text-left h-auto p-4 whitespace-normal transition-all duration-200 ${t[n]===s?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg scale-105":"hover:shadow-md hover:scale-102 hover:border-blue-300 dark:hover:border-blue-600"}`,children:e.jsxs("div",{className:"flex items-center space-x-3 w-full",children:[e.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${t[n]===s?"border-white bg-white/20":"border-gray-300 dark:border-gray-600"}`,children:t[n]===s&&e.jsx(J,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"flex-1",children:s})]})},i))}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-700",children:[e.jsx(Y,{className:"text-sm font-medium mb-3 block text-gray-700 dark:text-gray-300",children:"How confident are you with this answer?"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(s=>e.jsxs(u,{variant:k[n]===s?"default":"outline",size:"sm",onClick:()=>ue(n,s),className:`w-12 h-12 p-0 transition-all duration-200 ${k[n]===s?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg scale-110":"hover:scale-105"}`,children:[s===1&&e.jsx(T,{className:"w-4 h-4"}),s===2&&e.jsx(T,{className:"w-4 h-4"}),s===3&&e.jsx(T,{className:"w-4 h-4"}),s===4&&e.jsx(T,{className:"w-4 h-4"}),s===5&&e.jsx(T,{className:"w-4 h-4"})]},s))}),e.jsxs("div",{className:"text-xs text-gray-500 text-right",children:[e.jsx("div",{children:"Not sure"}),e.jsx("div",{children:"Very confident"})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs(u,{onClick:de,disabled:n===0,variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4"}),"Previous"]}),e.jsxs("div",{className:"text-center space-y-1",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:[P," / ",o.questions.length," ","answered"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Time on Q:"," ",Math.round((Date.now()-B)/1e3),"s"]})]}),n===o.questions.length-1?e.jsx(u,{onClick:K,disabled:d,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 shadow-lg",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"Submit Quiz"]})}):e.jsxs(u,{onClick:ce,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg",children:["Next",e.jsx(ze,{className:"w-4 h-4 ml-2"})]})]})]})]}),o.questions.length>0&&e.jsx(R,{className:"bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-0 shadow-lg",children:e.jsxs($,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4 text-center",children:"Quiz Progress Overview"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/60 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:P}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Answered"})]}),e.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/60 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.round((1800-w)/60)}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Minutes"})]}),e.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/60 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:S.length}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Struggling"})]}),e.jsxs("div",{className:"bg-white/60 dark:bg-gray-800/60 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Object.keys(k).length>0?Math.round(Object.values(k).reduce((s,i)=>s+i,0)/Object.keys(k).length):0}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Avg. Confidence"})]})]})]})})]}),r&&e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"sticky top-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(Y,{className:"text-sm font-medium mb-3 block",children:"Choose your AI teacher:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(u,{variant:v==="Kingsley"?"default":"outline",onClick:()=>F("Kingsley"),size:"sm",className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"K"})}),e.jsx("span",{className:"text-xs",children:"Supportive"})]}),e.jsxs(u,{variant:v==="Rita"?"default":"outline",onClick:()=>F("Rita"),size:"sm",className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"R"})}),e.jsx("span",{className:"text-xs",children:"Challenging"})]})]})]}),e.jsx(Ae,{selectedTeacher:v,subject:x,context:`Quiz question: ${N==null?void 0:N.question}`})]})})]})]})}export{Ve as QuizTaking};
