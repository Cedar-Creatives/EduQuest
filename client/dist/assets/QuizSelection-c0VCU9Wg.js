import{c as m,b as B,a as $,u as E,r as a,j as e,B as j,C as l,d as i,e as c,m as u,f as h,g as o,i as g,o as I,p as f}from"./index-BW2eZKgk.js";import{g as F}from"./quiz-B_T5SCtb.js";import{H}from"./heart-BA8yJqH4.js";import{G as R}from"./globe-C7xGSlUs.js";import{C}from"./clock-DBQmfBqq.js";import{U}from"./users-B2cgLNe3.js";import{T as Z}from"./trophy-HxUj-h9W.js";import{Z as D}from"./zap-DIYHhRsb.js";import{T as G}from"./target-CHxuEaUw.js";import{L as S}from"./lock-DGxpqc4g.js";import"./api-DG80KXa3.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=m("Atom",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=m("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=m("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=m("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=m("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),K={Mathematics:V,Science:O,History:R,Literature:u,Art:J,Music:_,Programming:Y,Biology:H},W={Beginner:{color:"from-green-400 to-green-500",bgColor:"bg-green-50 dark:bg-green-900/20",borderColor:"border-green-200 dark:border-green-700",icon:G,description:"Perfect for building strong foundations"},Intermediate:{color:"from-yellow-400 to-orange-500",bgColor:"bg-yellow-50 dark:bg-yellow-900/20",borderColor:"border-yellow-200 dark:border-green-700",icon:I,description:"Challenge yourself with moderate complexity"},Advanced:{color:"from-red-400 to-red-500",bgColor:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-700",icon:D,description:"Push your limits with expert-level questions"}},X=[{count:10,label:"10 Questions",free:!0,description:"Quick practice session"},{count:20,label:"20 Questions",free:!1,description:"Comprehensive review"},{count:30,label:"30 Questions",free:!1,description:"Full exam simulation"}];function me(){const z=B(),{toast:d}=$(),{user:p}=E(),[b,q]=a.useState([]),[t,M]=a.useState(null),[y,Q]=a.useState("Intermediate"),[n,L]=a.useState(10),[P,N]=a.useState(!0),[w,v]=a.useState(null),T=["Beginner","Intermediate","Advanced"],k=(p==null?void 0:p.plan)==="premium";a.useEffect(()=>{(async()=>{try{N(!0),v(null);const r=await F();q(r||[])}catch(r){v(r.message||"Failed to fetch subjects"),d({title:"Error",description:r.message||"Failed to fetch subjects",variant:"destructive"})}finally{N(!1)}})()},[d]);const A=()=>{if(!t){d({title:"Please select a subject",description:"Choose a subject before starting the quiz",variant:"destructive"});return}if(n>10&&!k){d({title:"Premium Feature",description:"Upgrade to Premium for quizzes with 20+ questions",variant:"destructive"});return}try{z(`/app/quiz/${t.name.toLowerCase()}/${y.toLowerCase()}`)}catch(s){d({title:"Error",description:s.message||"Failed to start quiz",variant:"destructive"})}};return P?e.jsx("div",{className:"space-y-6 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Loading Quiz Selection..."}),e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mx-auto mb-4"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((s,r)=>e.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"},r))})]})]})}):w?e.jsx("div",{className:"space-y-6 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 text-red-600",children:"Error Loading Quizzes"}),e.jsx("p",{className:"text-lg text-gray-600 mb-4",children:w}),e.jsx(j,{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600",children:"Try Again"})]})}):!b||b.length===0?e.jsx("div",{className:"space-y-6 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-600",children:"No Quizzes Available"}),e.jsx("p",{className:"text-lg text-gray-500 mb-4",children:"There are currently no quiz subjects available."}),e.jsx(j,{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600",children:"Refresh"})]})}):e.jsxs("div",{className:"space-y-6 p-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Choose Your Quiz"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Select a subject and difficulty level to start your learning journey"})]}),e.jsxs(l,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-0 shadow-lg",children:[e.jsxs(i,{children:[e.jsxs(c,{className:"flex items-center",children:[e.jsx(u,{className:"w-5 h-5 mr-2 text-blue-500"}),"Select Subject"]}),e.jsx(h,{children:"Choose from our wide range of subjects"})]}),e.jsx(o,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(s=>{const r=K[s.name]||u,x=(t==null?void 0:t.id)===s.id;return e.jsxs(l,{className:`cursor-pointer transition-all duration-300 hover:shadow-lg hover:-translate-y-1 ${x?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>M(s),children:[e.jsxs(i,{className:"text-center pb-2",children:[e.jsx("div",{className:`w-12 h-12 mx-auto rounded-lg flex items-center justify-center ${x?"bg-gradient-to-r from-blue-500 to-purple-600":"bg-gradient-to-r from-gray-400 to-gray-500"}`,children:e.jsx(r,{className:"w-6 h-6 text-white"})}),e.jsx(c,{className:"text-lg",children:s.name})]}),e.jsxs(o,{className:"text-center pt-0",children:[e.jsxs("div",{className:"flex justify-center space-x-2 mb-2",children:[e.jsxs(g,{variant:"outline",className:"text-xs",children:[e.jsx(C,{className:"w-3 h-3 mr-1"}),s.avgTime," min"]}),e.jsxs(g,{variant:"outline",className:"text-xs",children:[e.jsx(U,{className:"w-3 h-3 mr-1"}),s.questionCount||0," questions"]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.description})]})]},s.id)})})})]}),e.jsxs(l,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-0 shadow-lg",children:[e.jsxs(i,{children:[e.jsxs(c,{className:"flex items-center",children:[e.jsx(Z,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Select Difficulty"]}),e.jsx(h,{children:"Choose your challenge level"})]}),e.jsx(o,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:T.map(s=>{const r=W[s],x=y===s;return e.jsxs(l,{className:`cursor-pointer transition-all duration-300 hover:shadow-lg hover:-translate-y-1 ${x?"ring-2 ring-yellow-500 bg-yellow-50 dark:bg-yellow-900/20":"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>Q(s),children:[e.jsxs(i,{className:"text-center",children:[e.jsx("div",{className:`w-16 h-16 mx-auto rounded-full flex items-center justify-center bg-gradient-to-r ${r.color}`,children:e.jsx(r.icon,{className:"w-8 h-8 text-white"})}),e.jsx(c,{className:"text-xl",children:s})]}),e.jsx(o,{className:"text-center pt-0",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.description})})]},s)})})})]}),e.jsxs(l,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-0 shadow-lg",children:[e.jsxs(i,{children:[e.jsxs(c,{className:"flex items-center",children:[e.jsx(S,{className:"w-5 h-5 mr-2 text-purple-500"}),"Select Question Count"]}),e.jsx(h,{children:"Choose the number of questions"})]}),e.jsx(o,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:X.map(s=>{const r=n===s.count;return e.jsxs(l,{className:`cursor-pointer transition-all duration-300 hover:shadow-lg hover:-translate-y-1 ${r?"ring-2 ring-purple-500 bg-purple-50 dark:bg-purple-900/20":"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700"}`,onClick:()=>L(s.count),children:[e.jsxs(i,{className:"text-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`w-16 h-16 mx-auto rounded-full flex items-center justify-center bg-gradient-to-r ${r?"bg-gradient-to-r from-purple-500 to-pink-600":"bg-gradient-to-r from-gray-400 to-gray-500"}`,children:e.jsx(f,{className:"w-8 h-8 text-white"})}),!s.free&&e.jsx("div",{className:"absolute -top-2 -right-2",children:e.jsxs(g,{className:"bg-gradient-to-r from-purple-500 to-pink-600 text-white text-xs px-2 py-1",children:[e.jsx(S,{className:"w-3 h-3 mr-1"}),"Premium"]})})]}),e.jsx(c,{className:"text-xl",children:s.label})]}),e.jsxs(o,{className:"text-center pt-0",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.description}),!s.free&&!k&&e.jsxs(g,{variant:"outline",className:"mt-2 text-xs text-purple-600 border-purple-300",children:[e.jsx(f,{className:"w-3 h-3 mr-1"}),"Upgrade Required"]})]})]},s.count)})})})]}),t&&e.jsxs(l,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white border-0",children:[e.jsxs(i,{children:[e.jsx(c,{className:"text-2xl",children:"Ready to Start?"}),e.jsxs(h,{className:"text-blue-100",children:[t.name," • ",y," Level"]})]}),e.jsx(o,{children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-blue-100",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(C,{className:"w-4 h-4 mr-1"}),n<=10?"15-20":n<=20?"25-35":"40-50"," ","minutes"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(u,{className:"w-4 h-4 mr-1"}),n," questions"]}),n>10&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(f,{className:"w-4 h-4 mr-1"}),"Premium"]})]}),e.jsx("p",{className:"text-blue-100",children:"Test your knowledge and track your progress"})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:e.jsx(j,{onClick:A,size:"lg",className:"bg-white text-blue-600 hover:bg-gray-100 px-8",children:"Start Quiz"})})]})})]})]})}export{me as QuizSelection};
