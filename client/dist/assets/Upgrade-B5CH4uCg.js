import{c as U,b as S,a as z,r as x,j as e,B as n,p as u,C as i,d as h,e as g,g as o,f as p,X as E,i as b}from"./index-BW2eZKgk.js";import{a as L}from"./api-DG80KXa3.js";import{S as N,C as y,g as B}from"./profile-KQ56E9-A.js";import{A as v}from"./arrow-left-bX4q6fK5.js";import{Z as D}from"./zap-DIYHhRsb.js";import{B as I}from"./bar-chart-3-ZvScYa5k.js";import{U as R}from"./upload-Clx9o7ju.js";import{S as T}from"./star-pge6XBue.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=U("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Y=async l=>{var c,d,m,r;console.log("=== UPGRADE API CALL START ==="),console.log("Upgrade data being sent:",l),console.log("Making POST request to /api/users/upgrade");try{const s=await L.post("/api/users/upgrade",l);return console.log("=== UPGRADE API CALL SUCCESS ==="),console.log("API response received:",s),console.log("Response data:",s.data),s.data}catch(s){throw console.error("=== UPGRADE API CALL ERROR ==="),console.error("Error in upgradeToPremium API call:",s),console.error("Error response:",s.response),console.error("Error response data:",(c=s.response)==null?void 0:c.data),console.error("Error response status:",(d=s.response)==null?void 0:d.status),console.error("Error config:",s.config),new Error(((r=(m=s==null?void 0:s.response)==null?void 0:m.data)==null?void 0:r.message)||s.message)}};function K(){const l=S(),{toast:c}=z(),[d,m]=x.useState(!1),[r,s]=x.useState("monthly"),[k,f]=x.useState("freemium"),[P,C]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const a=await B();f(a.data.plan)}catch{}finally{C(!1)}})()},[]);const j={freemium:[{name:"5 quizzes per day",included:!0},{name:"Basic progress tracking",included:!0},{name:"Access to public notes",included:!0},{name:"Community support",included:!0},{name:"Unlimited quizzes",included:!1},{name:"Advanced analytics",included:!1},{name:"Upload your own notes",included:!1},{name:"Priority support",included:!1},{name:"Offline access",included:!1},{name:"Custom study plans",included:!1}],premium:[{name:"5 quizzes per day",included:!0},{name:"Basic progress tracking",included:!0},{name:"Access to public notes",included:!0},{name:"Community support",included:!0},{name:"Unlimited quizzes",included:!0},{name:"Advanced analytics",included:!0},{name:"Upload your own notes",included:!0},{name:"Priority support",included:!0},{name:"Offline access",included:!0},{name:"Custom study plans",included:!0}]},w=[{icon:D,title:"Unlimited Quizzes",description:"Take as many quizzes as you want, whenever you want"},{icon:I,title:"Advanced Analytics",description:"Detailed insights into your learning progress and performance"},{icon:R,title:"Upload Notes",description:"Share your own study materials with the community"},{icon:N,title:"Priority Support",description:"Get help faster with dedicated premium support"},{icon:q,title:"Offline Access",description:"Download content and study even without internet"},{icon:T,title:"Custom Study Plans",description:"Personalized learning paths based on your goals"}],A=async()=>{m(!0);try{const t=await Y({plan:r});c({title:"Upgrade successful!",description:t.message||"Welcome to EduQuiz Premium! Enjoy unlimited learning."}),f("premium"),setTimeout(()=>{l("/app/profile")},2e3)}catch(t){c({title:"Upgrade failed",description:t.message,variant:"destructive"})}finally{m(!1)}};return P?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading..."})]})}):k==="premium"?e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 text-center",children:[e.jsxs(n,{variant:"ghost",onClick:()=>l(-1),className:"absolute left-6 top-6 flex items-center space-x-2",children:[e.jsx(v,{className:"w-4 h-4"}),e.jsx("span",{children:"Back"})]}),e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(u,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 bg-clip-text text-transparent",children:"You're Already Premium!"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto mb-8",children:"You're enjoying all the benefits of EduQuiz Premium. Keep learning and achieving your goals!"}),e.jsxs(i,{className:"bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border-2 border-yellow-300 dark:border-yellow-600 shadow-xl max-w-md mx-auto",children:[e.jsx(h,{className:"text-center",children:e.jsxs(g,{className:"text-2xl flex items-center justify-center",children:[e.jsx(u,{className:"w-6 h-6 mr-2 text-yellow-500"}),"Premium Active"]})}),e.jsxs(o,{children:[e.jsx("ul",{className:"space-y-3 mb-6",children:w.slice(0,3).map((t,a)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(y,{className:"w-5 h-5 text-green-500 mr-3"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-left",children:t.title})]},a))}),e.jsx(n,{onClick:()=>l("/app/profile"),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white",children:"View Profile"})]})]})]}):e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(n,{variant:"ghost",onClick:()=>l(-1),className:"absolute left-6 top-6 flex items-center space-x-2",children:[e.jsx(v,{className:"w-4 h-4"}),e.jsx("span",{children:"Back"})]}),e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(u,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 bg-clip-text text-transparent",children:"Upgrade to Premium"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Unlock unlimited learning potential with advanced features and personalized insights"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map((t,a)=>e.jsxs(i,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsxs(h,{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center mx-auto mb-4",children:e.jsx(t.icon,{className:"w-6 h-6 text-white"})}),e.jsx(g,{className:"text-lg",children:t.title})]}),e.jsx(o,{children:e.jsx(p,{className:"text-center",children:t.description})})]},a))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[e.jsxs(i,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-0 shadow-lg",children:[e.jsxs(h,{className:"text-center",children:[e.jsx(g,{className:"text-2xl",children:"Freemium"}),e.jsx("div",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"Free"}),e.jsx(p,{children:"Perfect for getting started"})]}),e.jsxs(o,{children:[e.jsx("ul",{className:"space-y-3 mb-6",children:j.freemium.map((t,a)=>e.jsxs("li",{className:"flex items-center",children:[t.included?e.jsx(y,{className:"w-5 h-5 text-green-500 mr-3"}):e.jsx(E,{className:"w-5 h-5 text-gray-400 mr-3"}),e.jsx("span",{className:t.included?"text-gray-700 dark:text-gray-300":"text-gray-400",children:t.name})]},a))}),e.jsx(n,{variant:"outline",className:"w-full",disabled:!0,children:"Current Plan"})]})]}),e.jsxs(i,{className:"relative bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-yellow-900/20 border-2 border-yellow-300 dark:border-yellow-600 shadow-xl",children:[e.jsx(b,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white",children:"Most Popular"}),e.jsxs(h,{className:"text-center",children:[e.jsxs(g,{className:"text-2xl flex items-center justify-center",children:[e.jsx(u,{className:"w-6 h-6 mr-2 text-yellow-500"}),"Premium"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx(n,{variant:r==="monthly"?"default":"outline",size:"sm",onClick:()=>s("monthly"),children:"Monthly"}),e.jsxs(n,{variant:r==="yearly"?"default":"outline",size:"sm",onClick:()=>s("yearly"),children:["Yearly",e.jsx(b,{className:"ml-2 bg-green-500",children:"Save 20%"})]})]}),e.jsxs("div",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:["$",r==="monthly"?"9.99":"95.99",e.jsxs("span",{className:"text-lg text-gray-600 dark:text-gray-400",children:["/",r==="monthly"?"month":"year"]})]})]}),e.jsx(p,{children:"Unlock your full potential"})]}),e.jsxs(o,{children:[e.jsx("ul",{className:"space-y-3 mb-6",children:j.premium.map((t,a)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(y,{className:"w-5 h-5 text-green-500 mr-3"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:t.name})]},a))}),e.jsx(n,{onClick:A,disabled:d,className:"w-full bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Upgrade Now"]})})]})]})]}),e.jsxs(i,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-0 shadow-lg",children:[e.jsx(h,{children:e.jsx(g,{className:"text-center",children:"Frequently Asked Questions"})}),e.jsx(o,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Can I cancel anytime?"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Yes, you can cancel your subscription at any time. You'll continue to have access until the end of your billing period."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Is there a free trial?"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You can use our freemium plan indefinitely. Upgrade when you're ready for unlimited access."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"What payment methods do you accept?"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"We accept all major credit cards, PayPal, and other secure payment methods."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Do you offer student discounts?"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Yes! Contact our support team with your student ID for special pricing."})]})]})})]}),e.jsx(i,{className:"bg-gradient-to-r from-green-500 to-blue-500 text-white border-0",children:e.jsxs(o,{className:"text-center py-8",children:[e.jsx(N,{className:"w-12 h-12 mx-auto mb-4"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"30-Day Money Back Guarantee"}),e.jsx("p",{className:"text-green-100",children:"Not satisfied? Get a full refund within 30 days, no questions asked."})]})})]})}export{K as Upgrade};
