import{r as m,j as e,B as l,X as S,g as k,h as A,I as E,d as u,b as H}from"./index-BR-T537K.js";import{C as D,a as M,b as P,c as z}from"./card-C9tChmD6.js";import{a as T}from"./api-BwjwlSn4.js";import{M as g}from"./message-circle-QLJh2dNk.js";import{T as b}from"./target-7ZRLmyr2.js";import{T as I}from"./trophy-BmCg--gR.js";import{S as R}from"./send-B_OFc4jt.js";import{A as L}from"./arrow-left-DPagBF-_.js";import{C as B}from"./clock-BeGDGwDp.js";import{U as O}from"./users-DiZlD4b0.js";import{S as G}from"./star-DCCDTEu9.js";import{L as v}from"./lightbulb-SRNqHuSZ.js";import{Z as $}from"./zap-a5CLCkLp.js";const K=async i=>{var t,d;try{console.log("=== AI TEACHER CHAT REQUEST ==="),console.log("Message:",i.message),console.log("History length:",i.conversationHistory.length);const r=await T.post("/api/ai-teacher/chat",i);return console.log("=== AI TEACHER CHAT RESPONSE ==="),console.log("Response:",r.data),r.data}catch(r){throw console.error("=== AI TEACHER CHAT ERROR ==="),console.error("Error:",r),new Error(((d=(t=r.response)==null?void 0:t.data)==null?void 0:d.error)||r.message||"Failed to get AI response")}},U=async()=>{try{return(await T.get("/api/ai-teacher/health")).data}catch(i){throw console.error("AI Teacher health check failed:",i),new Error("AI Teacher service unavailable")}};function Y({isOpen:i,onClose:t}){const[d,r]=m.useState([]),[x,a]=m.useState(""),[h,j]=m.useState(!1),[n,f]=m.useState(!1),[N,p]=m.useState(null);m.useEffect(()=>{U().then(s=>{f(s.status==="ready"),s.status==="ready"?r([{id:"1",text:"Hello! I'm your AI Teacher. I'm here to help you with any subject or question. What would you like to learn today?",sender:"teacher",timestamp:new Date}]):p("AI Teacher service is not available. Please try again later.")}).catch(s=>{console.error("AI Teacher health check failed:",s),p("Unable to connect to AI Teacher service."),f(!1)})},[]);const w=async()=>{if(!x.trim()||!n)return;const s={id:Date.now().toString(),text:x,sender:"user",timestamp:new Date};r(o=>[...o,s]),a(""),j(!0),p(null);try{const o=await K({message:x,conversationHistory:d.map(c=>({id:c.id,text:c.text,sender:c.sender,timestamp:c.timestamp}))});if(o.success){const c={id:(Date.now()+1).toString(),text:o.response,sender:"teacher",timestamp:new Date};r(y=>[...y,c])}else throw new Error(o.error||"Failed to get response")}catch(o){console.error("AI Teacher chat error:",o),p(o.message||"Failed to get AI response");const c={id:(Date.now()+1).toString(),text:"I'm sorry, I'm having trouble responding right now. Please try again in a moment.",sender:"teacher",timestamp:new Date};r(y=>[...y,c])}finally{j(!1)}},C=s=>{s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),w())};return i?e.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-700 shadow-xl z-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(g,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"AI Teacher"}),e.jsx("p",{className:"text-sm opacity-90",children:"Your learning assistant"})]})]}),e.jsx(l,{variant:"ghost",size:"sm",onClick:t,className:"text-white hover:bg-white/20",children:e.jsx(S,{className:"h-5 w-5"})})]})}),N&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-500 p-3 mx-4 mt-4",children:e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:N})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 h-96",children:[d.map(s=>e.jsx("div",{className:`flex ${s.sender==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg ${s.sender==="user"?"bg-green-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100"}`,children:[e.jsx("p",{className:"text-sm",children:s.text}),e.jsx("div",{className:"text-xs opacity-70 mt-1",children:s.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},s.id)),h&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 px-4 py-2 rounded-lg",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>a("I need help with math"),className:"flex items-center space-x-1 text-xs",disabled:!n,children:[e.jsx(k,{className:"w-3 h-3"}),e.jsx("span",{children:"Math Help"})]}),e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>a("Give me study tips"),className:"flex items-center space-x-1 text-xs",disabled:!n,children:[e.jsx(A,{className:"w-3 h-3"}),e.jsx("span",{children:"Study Tips"})]}),e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>a("Help me prepare for exams"),className:"flex items-center space-x-1 text-xs",disabled:!n,children:[e.jsx(b,{className:"w-3 h-3"}),e.jsx("span",{children:"Exam Prep"})]}),e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>a("Explain a concept step by step"),className:"flex items-center space-x-1 text-xs",disabled:!n,children:[e.jsx(I,{className:"w-3 h-3"}),e.jsx("span",{children:"Step by Step"})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(E,{value:x,onChange:s=>a(s.target.value),onKeyPress:C,placeholder:"Ask your AI Teacher anything...",disabled:!n,className:"flex-1"}),e.jsx(l,{onClick:w,disabled:!x.trim()||h||!n,size:"sm",className:"bg-green-500 hover:bg-green-600",children:e.jsx(R,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"mt-2 text-center",children:e.jsx(u,{variant:n?"default":"secondary",className:`text-xs ${n?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}`,children:n?"Connected":"Disconnected"})})]})]}):null}function te(){const[i,t]=m.useState(!1),d=H(),r=[{icon:A,title:"Personalized Learning",description:"Get explanations tailored to your learning style and pace",color:"from-blue-500 to-blue-600"},{icon:k,title:"Subject Expertise",description:"Ask questions about any subject - math, science, literature, and more",color:"from-green-500 to-green-600"},{icon:v,title:"Step-by-Step Solutions",description:"Break down complex problems into manageable steps",color:"from-yellow-500 to-yellow-600"},{icon:$,title:"Instant Help",description:"Get immediate answers to your questions 24/7",color:"from-purple-500 to-purple-600"},{icon:b,title:"Exam Preparation",description:"Practice questions and get tips for upcoming exams",color:"from-red-500 to-red-600"},{icon:I,title:"Progress Tracking",description:"Monitor your learning progress and achievements",color:"from-orange-500 to-orange-600"}],x=[{title:"Ask a Question",description:"Get help with any subject",action:()=>t(!0),icon:g,color:"bg-green-500 hover:bg-green-600"},{title:"Study Tips",description:"Learn effective study strategies",action:()=>t(!0),icon:v,color:"bg-blue-500 hover:bg-blue-600"},{title:"Exam Help",description:"Prepare for upcoming exams",action:()=>t(!0),icon:b,color:"bg-purple-500 hover:bg-purple-600"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:[e.jsx("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(l,{variant:"ghost",size:"sm",onClick:()=>d("/app"),className:"flex items-center space-x-2",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{children:"Back to Dashboard"})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center",children:e.jsx(g,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"AI Teacher"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Your personal learning assistant"})]})]}),e.jsxs(l,{onClick:()=>t(!0),className:"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg flex items-center space-x-2",children:[e.jsx(g,{className:"h-5 w-5"}),e.jsx("span",{children:"Start Chat"})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Meet Your AI Teacher"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-8 max-w-3xl mx-auto",children:"Get instant help with any subject, personalized explanations, and step-by-step solutions. Your AI Teacher is available 24/7 to support your learning journey."}),e.jsxs("div",{className:"flex justify-center space-x-4 mb-8",children:[e.jsxs(u,{variant:"secondary",className:"px-4 py-2",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Available 24/7"]}),e.jsxs(u,{variant:"secondary",className:"px-4 py-2",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Personalized Learning"]}),e.jsxs(u,{variant:"secondary",className:"px-4 py-2",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Expert Knowledge"]})]}),e.jsxs(l,{onClick:()=>t(!0),size:"lg",className:"bg-green-500 hover:bg-green-600 text-white px-8 py-3 text-lg",children:[e.jsx(g,{className:"h-6 w-6 mr-2"}),"Start Learning Now"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:r.map((a,h)=>e.jsx(D,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs(M,{children:[e.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${a.color} rounded-lg flex items-center justify-center mb-4`,children:e.jsx(a.icon,{className:"h-6 w-6 text-white"})}),e.jsx(P,{className:"text-lg",children:a.title}),e.jsx(z,{children:a.description})]})},h))}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"What would you like to learn today?"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto",children:x.map((a,h)=>e.jsxs(l,{onClick:a.action,className:`${a.color} text-white p-6 h-auto flex flex-col items-center space-y-2`,children:[e.jsx(a.icon,{className:"h-8 w-8"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:a.title}),e.jsx("div",{className:"text-sm opacity-90",children:a.description})]})]},h))})]})]}),e.jsx(Y,{isOpen:i,onClose:()=>t(!1)})]})}export{te as AITeacherPage};
