import{c as U,b as E,a as S,r as x,j as e,B as n,C as u,X as R,d as b}from"./index-BR-T537K.js";import{C as o,a as h,b as g,d as i,c as p}from"./card-C9tChmD6.js";import{a as z}from"./api-BwjwlSn4.js";import{S as v,C as y,g as D}from"./profile-1uwmjWjX.js";import{A as k}from"./arrow-left-DPagBF-_.js";import{Z as T}from"./zap-a5CLCkLp.js";import{B as L}from"./bar-chart-3-CS0PpIR_.js";import{U as B}from"./upload-CZ5pPDvi.js";import{S as I}from"./star-DCCDTEu9.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=U("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),O=async l=>{var c,d,m,a;console.log("=== UPGRADE API CALL START ==="),console.log("Upgrade data being sent:",l),console.log("Making POST request to /api/users/upgrade");try{const s=await z.post("/api/users/upgrade",l);return console.log("=== UPGRADE API CALL SUCCESS ==="),console.log("API response received:",s),console.log("Response data:",s.data),s.data}catch(s){throw console.error("=== UPGRADE API CALL ERROR ==="),console.error("Error in upgradeToPremium API call:",s),console.error("Error response:",s.response),console.error("Error response data:",(c=s.response)==null?void 0:c.data),console.error("Error response status:",(d=s.response)==null?void 0:d.status),console.error("Error config:",s.config),new Error(((a=(m=s==null?void 0:s.response)==null?void 0:m.data)==null?void 0:a.message)||s.message)}};function K(){const l=E(),{toast:c}=S(),[d,m]=x.useState(!1),[a,s]=x.useState("monthly"),[f,j]=x.useState("freemium"),[P,C]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const t=await D();console.log("Profile data received:",t),j(t.data.plan)}catch(t){console.error("Error fetching current plan:",t)}finally{C(!1)}})()},[]);const w={freemium:[{name:"5 quizzes per day",included:!0},{name:"Basic progress tracking",included:!0},{name:"Access to public notes",included:!0},{name:"Community support",included:!0},{name:"Unlimited quizzes",included:!1},{name:"Advanced analytics",included:!1},{name:"Upload your own notes",included:!1},{name:"Priority support",included:!1},{name:"Offline access",included:!1},{name:"Custom study plans",included:!1}],premium:[{name:"5 quizzes per day",included:!0},{name:"Basic progress tracking",included:!0},{name:"Access to public notes",included:!0},{name:"Community support",included:!0},{name:"Unlimited quizzes",included:!0},{name:"Advanced analytics",included:!0},{name:"Upload your own notes",included:!0},{name:"Priority support",included:!0},{name:"Offline access",included:!0},{name:"Custom study plans",included:!0}]},N=[{icon:T,title:"Unlimited Quizzes",description:"Take as many quizzes as you want, whenever you want"},{icon:L,title:"Advanced Analytics",description:"Detailed insights into your learning progress and performance"},{icon:B,title:"Upload Notes",description:"Share your own study materials with the community"},{icon:v,title:"Priority Support",description:"Get help faster with dedicated premium support"},{icon:G,title:"Offline Access",description:"Download content and study even without internet"},{icon:I,title:"Custom Study Plans",description:"Personalized learning paths based on your goals"}],A=async()=>{m(!0);try{console.log("=== FRONTEND UPGRADE START ==="),console.log(`Upgrading to premium - ${a} plan`),console.log("Current plan before upgrade:",f),console.log("About to call upgradeToPremium API...");const r=await O({plan:a});console.log("=== FRONTEND UPGRADE SUCCESS ==="),console.log("Upgrade response received:",r),c({title:"Upgrade successful!",description:r.message||"Welcome to EduQuiz Premium! Enjoy unlimited learning."}),j("premium"),console.log("Updated current plan state to premium"),setTimeout(()=>{console.log("Navigating to profile page..."),l("/profile")},2e3)}catch(r){console.error("=== FRONTEND UPGRADE ERROR ==="),console.error("Error upgrading to premium:",r),console.error("Error message:",r.message),console.error("Error response:",r.response),c({title:"Upgrade failed",description:r.message,variant:"destructive"})}finally{m(!1)}};return P?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading..."})]})}):f==="premium"?e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 text-center",children:[e.jsxs(n,{variant:"ghost",onClick:()=>l(-1),className:"absolute left-6 top-6 flex items-center space-x-2",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:"Back"})]}),e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(u,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 bg-clip-text text-transparent",children:"You're Already Premium!"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto mb-8",children:"You're enjoying all the benefits of EduQuiz Premium. Keep learning and achieving your goals!"}),e.jsxs(o,{className:"bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border-2 border-yellow-300 dark:border-yellow-600 shadow-xl max-w-md mx-auto",children:[e.jsx(h,{className:"text-center",children:e.jsxs(g,{className:"text-2xl flex items-center justify-center",children:[e.jsx(u,{className:"w-6 h-6 mr-2 text-yellow-500"}),"Premium Active"]})}),e.jsxs(i,{children:[e.jsx("ul",{className:"space-y-3 mb-6",children:N.slice(0,3).map((r,t)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(y,{className:"w-5 h-5 text-green-500 mr-3"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-left",children:r.title})]},t))}),e.jsx(n,{onClick:()=>l("/profile"),className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white",children:"View Profile"})]})]})]}):e.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(n,{variant:"ghost",onClick:()=>l(-1),className:"absolute left-6 top-6 flex items-center space-x-2",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:"Back"})]}),e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(u,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-yellow-500 via-orange-500 to-red-500 bg-clip-text text-transparent",children:"Upgrade to Premium"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Unlock unlimited learning potential with advanced features and personalized insights"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map((r,t)=>e.jsxs(o,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsxs(h,{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center mx-auto mb-4",children:e.jsx(r.icon,{className:"w-6 h-6 text-white"})}),e.jsx(g,{className:"text-lg",children:r.title})]}),e.jsx(i,{children:e.jsx(p,{className:"text-center",children:r.description})})]},t))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[e.jsxs(o,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-0 shadow-lg",children:[e.jsxs(h,{className:"text-center",children:[e.jsx(g,{className:"text-2xl",children:"Freemium"}),e.jsx("div",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"Free"}),e.jsx(p,{children:"Perfect for getting started"})]}),e.jsxs(i,{children:[e.jsx("ul",{className:"space-y-3 mb-6",children:w.freemium.map((r,t)=>e.jsxs("li",{className:"flex items-center",children:[r.included?e.jsx(y,{className:"w-5 h-5 text-green-500 mr-3"}):e.jsx(R,{className:"w-5 h-5 text-gray-400 mr-3"}),e.jsx("span",{className:r.included?"text-gray-700 dark:text-gray-300":"text-gray-400",children:r.name})]},t))}),e.jsx(n,{variant:"outline",className:"w-full",disabled:!0,children:"Current Plan"})]})]}),e.jsxs(o,{className:"relative bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-yellow-900/20 border-2 border-yellow-300 dark:border-yellow-600 shadow-xl",children:[e.jsx(b,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-yellow-500 to-orange-500 text-white",children:"Most Popular"}),e.jsxs(h,{className:"text-center",children:[e.jsxs(g,{className:"text-2xl flex items-center justify-center",children:[e.jsx(u,{className:"w-6 h-6 mr-2 text-yellow-500"}),"Premium"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx(n,{variant:a==="monthly"?"default":"outline",size:"sm",onClick:()=>s("monthly"),children:"Monthly"}),e.jsxs(n,{variant:a==="yearly"?"default":"outline",size:"sm",onClick:()=>s("yearly"),children:["Yearly",e.jsx(b,{className:"ml-2 bg-green-500",children:"Save 20%"})]})]}),e.jsxs("div",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:["$",a==="monthly"?"9.99":"95.99",e.jsxs("span",{className:"text-lg text-gray-600 dark:text-gray-400",children:["/",a==="monthly"?"month":"year"]})]})]}),e.jsx(p,{children:"Unlock your full potential"})]}),e.jsxs(i,{children:[e.jsx("ul",{className:"space-y-3 mb-6",children:w.premium.map((r,t)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx(y,{className:"w-5 h-5 text-green-500 mr-3"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:r.name})]},t))}),e.jsx(n,{onClick:A,disabled:d,className:"w-full bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Upgrade Now"]})})]})]})]}),e.jsxs(o,{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-0 shadow-lg",children:[e.jsx(h,{children:e.jsx(g,{className:"text-center",children:"Frequently Asked Questions"})}),e.jsx(i,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Can I cancel anytime?"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Yes, you can cancel your subscription at any time. You'll continue to have access until the end of your billing period."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Is there a free trial?"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You can use our freemium plan indefinitely. Upgrade when you're ready for unlimited access."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"What payment methods do you accept?"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"We accept all major credit cards, PayPal, and other secure payment methods."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Do you offer student discounts?"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Yes! Contact our support team with your student ID for special pricing."})]})]})})]}),e.jsx(o,{className:"bg-gradient-to-r from-green-500 to-blue-500 text-white border-0",children:e.jsxs(i,{className:"text-center py-8",children:[e.jsx(v,{className:"w-12 h-12 mx-auto mb-4"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"30-Day Money Back Guarantee"}),e.jsx("p",{className:"text-green-100",children:"Not satisfied? Get a full refund within 30 days, no questions asked."})]})})]})}export{K as Upgrade};
